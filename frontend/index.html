<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simple RAG</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <div class="container">
        <h1>Simple RAG</h1>

        <div class="section">
            <h2>1. 上传 Markdown 文档 (.md)</h2>
            <p>您可以选择一个或多个 .md 文件进行上传和处理。</p>
            <input type="file" id="fileInput" accept=".md" multiple>
            <button onclick="uploadFile()">上传文档</button>
            <p id="uploadStatus"></p>
        </div>

        <div class="section">
            <h2>2. 配置与提问</h2>
            <div class="top-k-container">
                <div>
                    <label for="topKInput">Top-K (检索数量):</label>
                    <input type="number" id="topKInput" value="3" min="1" max="10">
                </div>
            </div>
            <textarea id="questionInput" rows="4" placeholder="在此输入您的问题..."></textarea>
            <button onclick="submitQuestion()">提交问题</button>
        </div>

        <div class="section results-section">
            <h2>3. 结果展示</h2>
            <div class="result-container">
                <div class="result-window">
                    <h3>RAG 增强结果</h3>
                    <div id="ragAnswer" class="answer-box"></div>
                </div>
                <div class="result-window">
                    <h3>直接 LLM 结果 (无RAG)</h3>
                    <div id="llmOnlyAnswer" class="answer-box"></div>
                </div>
            </div>
            <div class="results-section similarity-results">
                <h3>引用来源与答案相似度匹配</h3>
                <div id="similarityChartContainer">
                    <canvas id="similarityChart"></canvas>
                </div>
                <p id="similarityInfo"></p>
            </div>
            <p id="errorDisplay" class="error-message"></p>
        </div>

        <div class="section source-section">
            <h2>4. 引用来源详情</h2>
            <div class="source-details-card">
                <div id="ragSources" class="source-details-content"></div>
            </div>
        </div>

    </div>

    <script src="script.js"></script>
</body>
</html> 